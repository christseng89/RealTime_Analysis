# Command to install superset dependencies in Ubuntu 20.04 and above versions
sudo apt-get update
sudo apt-get install build-essential libssl-dev libffi-dev python3-dev python3-pip libsasl2-dev libldap2-dev default-libmysqlclient-dev

# Link to get commands for different os 
https://superset.apache.org/docs/installation/installing-superset-from-scratch/

# Create and activate virtual environment
sudo apt install python3.10-venv
python3 -m venv superset
source superset/bin/activate

# Install superset
pip install --upgrade pip
pip install wheel apache-superset

# Install pinot connector for superset
pip install pinotdb


# Set flask context
export FLASK_APP=superset

# Setup superset secret key
SUPERSET_KEY="$(openssl rand -base64 42)"
echo "SECRET_KEY='$SUPERSET_KEY'" > superset_config.py
export SUPERSET_CONFIG_PATH=/home/aditya/Realtime_Analytics/Tutorial/superset_config.py

# Do the initial setup for superset
superset db upgrade
superset fab create-admin
admin/admin
superset init

# Start superset
superset run -p 8088 --with-threads --reload --debugger 

# UI port
locahost:8088

# Link for pinot connection in superset
pinot://[::1]:8099/query?server=http://[::1]:9000/